<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>3D Scroll Demo</title>
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<style>
  html, body {
    margin: 0;
    height: 100%;
    overflow-y: scroll;
    background: #000;
  }
  body::-webkit-scrollbar { display: none; }
  .scroll-space { height: 600vh; } /* lots of scroll space */
  a-scene {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
  }
</style>
</head>
<body>
  <div class="scroll-space"></div>

  <a-scene vr-mode-ui="enabled: false" embedded>
    <!-- Lighting -->
    <a-entity light="type:ambient; intensity:0.7"></a-entity>
    <a-entity light="type:directional; intensity:0.9" position="1 3 2"></a-entity>

    <!-- Cube -->
    <a-box id="cube" position="0 1.5 -4" color="#4CC3D9"></a-box>

    <!-- Asteroid -->
    <a-sphere id="asteroid" position="2 4 -6" radius="0.8" color="#888"></a-sphere>

    <!-- Camera -->
    <a-entity id="camRig" position="0 1.6 5">
      <a-camera look-controls="enabled: false" wasd-controls="enabled: false"></a-camera>
    </a-entity>
  </a-scene>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cube = document.querySelector('#cube');
      const asteroid = document.querySelector('#asteroid');
      const camRig = document.querySelector('#camRig');
      const scrollSpace = document.querySelector('.scroll-space');

      function animate() {
        const maxScroll = scrollSpace.scrollHeight - window.innerHeight;
        const progress = window.scrollY / maxScroll;

        // Move camera slightly forward
        const camZ = 5 - progress * 8;
        camRig.setAttribute('position', `0 1.6 ${camZ}`);

        // Rotate cube
        const rotY = progress * 360;
        const rotX = progress * 180;
        cube.setAttribute('rotation', `${rotX} ${rotY} 0`);

        // Asteroid moves down and closer
        const asteroidY = 4 - progress * 4;
        const asteroidZ = -6 + progress * 2;
        asteroid.setAttribute('position', `2 ${asteroidY} ${asteroidZ}`);
        asteroid.setAttribute('rotation', `${rotX/2} ${rotY/1.5} 0`);

        // Restart scroll for infinite loop
        if (progress >= 1) window.scrollTo(0, 0);

        requestAnimationFrame(animate);
      }

      animate();
    });
  </script>
</body>
</html>
